{% extends 'base.html' %}
{% block content %}

	<h3 class="text-center">Choose a Processor</h3>

<body>
	<div class="container">
		<div class="row">
		<div class="col-sm-3">
			
			<div class="card" style="width: 18rem;">
				<div class="card-header">
					<p class="font-weight-bold">Filter</p>
				</div>
				<ul class="list-group list-group-flush">
					
				  <li class="list-group-item">
					<form method="get">
						<h3>Filter by:</h3>
						<div class="form-group">
							<label for="brand">Brand:</label>
							<div class="dropdown">
							  
							  <div >
								{% for brand in brands %}
								  <div class="form-check">
									<input class="form-check-input" type="checkbox" name="brand" value="{{ brand }}" id="{{ brand }}">
									<label class="form-check-label" for="{{ brand }}">
									  {{ brand }}
									</label>
								  </div>
								{% endfor %}
							  </div>
							</div>
						  </div>
						  <div class="form-group">
							<label for="brand">Socket</label>
							<div class="dropdown">
							  
							  <div >
								{% for socket_type in socket_types %}
								  <div class="form-check">
									<input class="form-check-input" type="checkbox" name="brand" value="{{ brand }}" id="{{ brand }}">
									<option class="form-check-label" for="{{ brand }}">
										{{ socket_type }}
									</option>
								  </div>
								{% endfor %}
							  </div>
							</div>
						  </div>
						  
						
						<div>
						  <label for="min_speed">Minimum Speed (TDP):</label>
						  <br>
						  <input type="checkbox" name="min_speed" value="30" id="30">
						  <label for="30">30W</label>
						  <br>
						  <input type="checkbox" name="min_speed" value="45" id="45">
						  <label for="45">45W</label>
						  <br>
						  <input type="checkbox" name="min_speed" value="65" id="65">
						  <label for="65">65W</label>
						  <br>
						</div>
						<div>
						  <label for="min_cores">Minimum Cores:</label>
						  <br>
						  <input type="checkbox" name="min_cores" value="4" id="4">
						  <label for="4">4 cores</label>
						  <br>
						  <input type="checkbox" name="min_cores" value="6" id="6">
						  <label for="6">6 cores</label>
						  <br>
						  <input type="checkbox" name="min_cores" value="8" id="8">
						  <label for="8">8 cores</label>
						  <br>
						</div>
						<div>
						  <label for="min_price">Minimum Price:</label>
						  <br>
						  <input type="checkbox" name="min_price" value="100" id="100">
						  <label for="100">$100</label>
						  <br>
						  <input type="checkbox" name="min_price" value="200" id="200">
						  <label for="200">$200</label>
						  <br>
						  <input type="checkbox" name="min_price" value="300" id="300">
						  <label for="300">$300</label>
						  <br>
						</div>
						<div>
						  <label for="max_price">Maximum Price:</label>
						  <br>
						  <input type="checkbox" name="max_price" value="500" id="500">
						  <label for="500">$500</label>
						  <br>
						  <input type="checkbox" name="max_price" value="1000" id="1000">
						  <label for="1000">$1000</label>
						  <br>
						  <input type="checkbox" name="max_price" value="2000" id="2000">
						  <label for="2000">$2000</label>
						  <br>
						</div>
						<button type="submit">Filter</button>
					  </form>
					  </li>
				  <li class="list-group-item"><a href="/processors" class="btn btn-info">Reset Filters</a></li>
				</ul>
			  </div>
		</div>
		<div class="col-sm-9">
			
	<table class="table align-middle mb-0 bg-white">
		<thead class="bg-light">
			<tr>
				<th></th>
				<th>Name</th>
				<th>Brand</th>
				<th>Cores</th>
				<th>Core Clock</th>
				<th>Boost Clock</th>
				<th>Graphics</th>
				<th>TDP</th>
				<th>SMT</th>
				<th>Price</th>
				<th></th>
			</tr>
		</thead>
		<tbody>
			{% for x in processors %}
				<tr>
					<td>
						<div class="d-flex align-items-center">
							<img src="{{ x.processor_image_url }}" alt="" style="width: 45px; height: 45px" class="rounded" />
							<div class="ms-3">
								<p class="fw-bold mb-1">{{ x.processor_model }}</p>
							</div>
						</div>
					</td>
					<td>
						<a href="{% url 'processor_detail' x.id %}"><p class="fw-normal mb-1">{{ x.processor_short_name }}</p></a>
					</td>
					<td>
						<p class="fw-normal mb-1">{{ x.processor_brand }}</p>
					</td>
					<td>
						<p class="fw-normal mb-1">{{ x.processor_core_count }}</p>
					</td>
					<td>
						<p class="fw-normal mb-1">{{ x.processor_performance_core_clock }}</p>
					</td>
					<td>
						<p class="fw-normal mb-1">{{ x.processor_performance_boost_clock }}</p>
					</td>
					<td>
						<p class="fw-normal mb-1">{{ x.processor_integrated_graphics }}</p>
					</td>
					<td>
						<p class="fw-normal mb-1">{{ x.processor_tdp }}</p>
					</td>
					<td>
						<p class="fw-normal mb-1">{{ x.processor_smt }}</p>
					</td>
					<td>
						<p class="fw-normal mb-1">{{ x.processor_price }}</p>
					</td>
					<td>
						<form action="{% url 'processor_builder' %}">
							<input type="hidden" name="processor_id" value="{{ x.id }}" id="processor_id" />
							<button type="submit" class="btn btn-primary">Add</button>
						</form>
					</td>
				</tr>
			{% endfor %}
			</tbody>
			<tbody>

			
			<tr>

			
			{% if processors.has_other_pages %}
    <ul class="pagination justify-content-center">
        {% if processors.has_previous %}
            <li class="page-item">
                <a class="page-link" href="?page=1">&laquo;</a>
            </li>
            <li class="page-item">
                <a class="page-link" href="?page={{ processors.previous_page_number }}">&lt;</a>
            </li>
        {% endif %}
		

        {% for num in processors.paginator.page_range %}
            {% if processors.number == num %}
                <li class="page-item active">
                    <a class="page-link" href="#">{{ num }} <span class="sr-only">(current)</span></a>
                </li>
            {% elif num > processors.number|add:'-3' and num < processors.number|add:'3' %}
                <li class="page-item">
                    <a class="page-link" href="?page={{ num }}">{{ num }}</a>
                </li>
            {% endif %}
        {% endfor %}

        {% if processors.has_next %}
            <li class="page-item">
                <a class="page-link" href="?page={{ processors.next_page_number }}">&gt;</a>
            </li>
            <li class="page-item">
                <a class="page-link" href="?page={{ processors.paginator.num_pages }}">&raquo;</a>
            </li>
        {% endif %}
    </ul>
{% endif %}
</tr>
</tbody>
			
</table>
</div>
</div>
</div>

{% endblock content %}